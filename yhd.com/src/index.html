<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">		
		<title>1号店(yhd.com)</title>
		<link href="bootstrap/css/bootstrap.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="css/index.css"/>
		<link rel="stylesheet" href="./lib/swiper.min.css">
		<script type="text/javascript" src="js/index.js"></script>
		<link rel="icon" href="img/fav.ico" type="img/fav.ico"/>
	</head>
	<body>
		<header id="header">
			<div class="hd-top">
				<div class="ht-main wrap">
					<ul>
						<li>
							<span>您好，</span>
							<span class="show"></span>
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".login">请登录</button>

							<div class="modal fade login" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
								<div class="modal-dialog modal-sm" role="document">
									<div class="modal-content formp">
										<h4>请登录</h4>	
										<div class="form-group">
											<label for="username">用户名：</label>
											<input type="text" class="form-control lg-nm" id="username" placeholder="请输入您的用户名">
										</div>
										<div class="form-group">
											<label for="password">密码:</label>
											<input type="password" class="form-control lg-pw" id="password" placeholder="请输入您的密码"></input>
										</div>
										<div class="lg-show"></div>
										<div class="text-center">
											<button type="button" class="btn btn-success lg-btn" data-dismiss="modal">提交</button>
										</div>
									</div>
								</div>
							</div>
							
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target=".sign-up">注册</button>

							<div class="modal fade sign-up" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
								<div class="modal-dialog modal-sm" role="document">
									<div class="modal-content formp">
										<h4>请注册</h4>	
										<div class="form-group">
											<label for="username">用户名：</label>
											<input type="text" class="form-control zc-nm" id="username" placeholder="请设置您的用户名">
										</div>
										<div class="form-group">
											<label for="password">密码:</label>
											<input type="password" class="form-control zc-pw" id="password" placeholder="请设置您的密码"></input>
										</div>
										<div class="zc-show"></div>
										<div class="text-center">
											<button type="button" class="btn btn-success zc-btn" data-dismiss="modal">提交</button>
										</div>
									</div>
								</div>
							</div>
						</li>
						<li>
							<a href="javascript:;">
								<span class="glyphicon glyphicon-user" aria-hidden="true"> </span>
								会员俱乐部
							</a>
						</li>
						<li>
							<a href="javascript:;">
								<span class="glyphicon glyphicon-list-alt"> </span>
								我的订单
							</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="hd-main">
				<div class="wrap">
					<div class="logo">
						<a href="javascript:;" title="1号店">1号店</a>
						<img src="./img/logo2.jpg">
					</div>
					<div class="hm-right">
						<div class="research">
							<input type="search" class="sear" placeholder="微星游戏本">
							<button type="button" class="btn btn-default searbtn">
								<span class="glyphicon glyphicon-search" aria-hidden="true"> </span>
							</button>
						</div>
						<div class="cart">
							<button type="button" class="btn btn-default cartbtn" onclick="window.location.href='./cart.html'">
							<span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> 购物车
							</button>
						</div>						
						<div class="searlist">
							<a href="javascript:;">糖果</a>
							<a href="javascript:;">口红</a>
							<a href="javascript:;">洗衣机</a>
							<a href="javascript:;">男装</a>
							<a href="javascript:;">泡面</a>
							<a href="javascript:;">油</a>
							<a href="javascript:;">滴露</a>
						</div>
					</div>
				</div>
			</div>
		</header>
		<section id="nav">
			<div class="nav-inner wrap">
				<ul>
					<li>
						<div>
							<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
							<span>全部类目</span>
							<span class="glyphicon glyphicon-menu-down" aria-hidden="true"></span>
						</div>
						<div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
							<div class="column-items">
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
								<div class="category">
									<h2></h2>
									<div>
									</div>
								</div>
							</div>
						</div>
					</li>
					<li><a href="javascript:;">金币签到</a></li>
					<li><a href="javascript:;">充值</a></li>
					<li><a href="javascript:;">领券中心</a></li>
				</ul>
			</div>
		</section>
		<section id="banner" class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide"></div>
				<div class="swiper-slide"></div>
				<div class="swiper-slide"></div>
			</div>
			<div class="swiper-pagination"></div>		
		</section>
		<section id="main">
			<div class="main_inner wrap">
				<div class="main_product">
					<div>
						<div class="product-left">
							<h2><span>品质进口</span> / 给你完美生活</h2>
							<div>
								<div>
									<a href="javascript:;">进口饼干</a>
									<a href="javascript:;">进口牛奶</a>
									<a href="javascript:;">进口水</a>
									<a href="javascript:;">进口糖巧</a>
									<a href="javascript:;">葡萄酒</a>
									<a href="javascript:;">进口油</a>
								</div>
								<div>
									<a href="javascript:;">
										<h3>进口休闲零食</h3>
										<p>爆款直降</p>
										<p>点击进入</p>
										<i class="qu-img"><img src="./img/product/qu1.png"></i>
									</a>
									<a href="javascript:;">
										<h3>进口饼干</h3>
										<p>超值满减</p>
										<i><img src="./img/product/qu2.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>进口牛奶</h3>
										<p>领券满减</p>
										<i><img src="./img/product/qu3.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>品质洋酒</h3>
										<p>2件立减</p>
										<i><img src="./img/product/qu4.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>进口米面</h3>
										<p>满减优惠</p>
										<i><img src="./img/product/qu5.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>日本美妆</h3>
										<p>低至5折</p>
										<p>点击进入</p>
										<i class="qu-img"><img src="./img/product/qu6.png"></i>
									</a>
								</div>
							</div>
						</div>
						<div class="product-right">
							<h3>进口食品热销榜</h3>
							<p>爆款热卖 实时更新</p>
							<div>
								<a href="javascrit:;"><i>TOP1</i><img src="./img/product/qur1.jpg"></a>
								<a href="javascrit:;"><i>TOP2</i><img src="./img/product/qur2.jpg"></a>
								<a href="javascrit:;"><i>TOP3</i><img src="./img/product/qur3.jpg"></a>
							</div>
						</div>
					</div>
					
					<div>
						<div class="product-left">
							<h2><span>甄选新鲜</span> / 每一口都是小幸福</h2>
							<div>
								<div>
									<a href="javascript:;">美味水果</a>
									<a href="javascript:;">新鲜水产</a>
									<a href="javascript:;">新鲜蔬菜</a>
									<a href="javascript:;">猪牛羊肉</a>
									<a href="javascript:;">冷冻食品</a>
									<a href="javascript:;">乳品冷饮</a>
								</div>
								<div>
									<a href="javascript:;">
										<h3>活色生鲜节</h3>
										<p>部分领券满减</p>
										<p>立即购买</p>
										<i class="qu-img"><img src="./img/product/fru1.png"></i>
									</a>
									<a href="javascript:;">
										<h3>进口牛油果</h3>
										<p>￥39.9</p>
										<i><img src="./img/product/fru2.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>泰国黑虎虾</h3>
										<p>￥129</p>
										<i><img src="./img/product/fru3.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>恒都澳洲牛腩</h3>
										<p>￥33.9</p>
										<i><img src="./img/product/fru4.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>天润浓缩酸奶</h3>
										<p>￥49.9</p>
										<i><img src="./img/product/fru5.jpg"></i>
									</a>
									<a href="javascript:;">
										<h3>品质牛排</h3>
										<p>部分领券再减</p>
										<p>立即购买</p>
										<i class="qu-img"><img src="./img/product/fru6.png"></i>
									</a>
								</div>
							</div>
						</div>
						<div class="product-right">
							<h3>唇唇欲动</h3>
							<p>胃之所向 皆美好</p>
							<div>
								<a href="javascrit:;"><i>TOP1</i><img src="./img/product/frur1.jpg"></a>
								<a href="javascrit:;"><i>TOP2</i><img src="./img/product/frur2.jpg"></a>
								<a href="javascrit:;"><i>TOP3</i><img src="./img/product/frur3.jpg"></a>
							</div>
						</div>
					</div>
				</div>
				
				<div class="main_list">
					<div class="list_top">
						<div>
							<img src="img/list1.png">
						</div>
						<p>可能比你自己更懂你</p>
					</div>
					<div class="list_main">
						<ul class="items">
							
						</ul>
						<div class="list_end"><img src="./img/cart.gif"></div>
					</div>
				</div>
			</div>
		</section>
	
		<footer id="footer">
			<div class="ft-top wrap">
				<figure>
					<img src="./img/ficon1.jpg">
					<figcaption>
						<h2>正品保证</h2>
						<p>正品行货 放心选购</p>
					</figcaption>
				</figure>
				<figure>
					<img src="./img/ficon2.jpg">
					<figcaption>
						<h2>满99包邮</h2>
						<p>满99元 免运费</p>
					</figcaption>
				</figure>
				<figure>
					<img src="./img/ficon3.jpg">
					<figcaption>
						<h2>售后无忧</h2>
						<p>7天无理由退货</p>
					</figcaption>
				</figure>
				<figure>
					<img src="./img/ficon4.jpg">
					<figcaption>
						<h2>准时送达</h2>
						<p>收货时间由你做主</p>
					</figcaption>
				</figure>
			</div>
			<div class="ft-nav wrap">
				<div class="fn-left">
					<dl>
						<dt>新手入门</dt>
						<dd><a href="javascript:;">购物流程</a></dd>
						<dd><a href="javascript:;">会员制度</a></dd>
						<dd><a href="javascript:;">订单查询</a></dd>
						<dd><a href="javascript:;">服务协议及隐私说明</a></dd>
						<dd><a href="javascript:;">网站地图</a></dd>
					</dl>
					<dl>
						<dt>支付方式</dt>
						<dd><a href="javascript:;">货到付款</a></dd>
						<dd><a href="javascript:;">网上支付</a></dd>
						<dd><a href="javascript:;">礼品卡支付</a></dd>
						<dd><a href="javascript:;">其他支付</a></dd>
					</dl>
					<dl>
						<dt>配送服务</dt>
						<dd><a href="javascript:;">配送进度查询</a></dd>
						<dd><a href="javascript:;">商品验货与签收</a></dd>
					</dl>
					<dl>
						<dt>相关规则</dt>
						<dd><a href="javascript:;">平台规则</a></dd>
						<dd><a href="javascript:;">退换货政策</a></dd>
						<dd><a href="javascript:;">发票制度</a></dd>
						<dd><a href="javascript:;">帮助中心</a></dd>
					</dl>
				</div>
				<div class="fn-right">
					
						<dl>
							<dt>APP更优惠</dt>
							<dd><img src="./img/fqr1.png"></dd>
						</dl>
						<dl>
							<dt>加微信查订单</dt>
							<dd><img src="./img/fqr2.jpg"></dd>
						</dl>
				</div>
			</div>
			<div class="ft-bottom">
				<div>
					<a href="javascript:;">沪ICP备16050468号</a>
					|
					<a href="javascript:;">经营证照</a>
					|
					<a href="javascript:;">互联网药品信息服务资格证(沪)-经营性-2017-0006</a>
					|
					<a href="javascript:;">违法和不良信息举报电话：0527-88100253</a>
					|
					<a href="javascript:;">沪B2-20170039</a>
					|
					<a href="javascript:;">沪公网安备 31010502002939号</a>
					|
					<a href="javascript:;">友情链接</a>
					|
					<a href="javascript:;">出版物经营许可证</a>
					|
					<a href="javascript:;">增值电信业务经营许可证</a>
					<p>Copyright© 1号店网上超市 2007-2019，All Rights Reserved</p>
				</div>
			</div>
		</footer>
	
<script type="text/javascript" src="./lib/jquery-1.12.4.js"></script>
<script type="text/javascript" src="./lib/template-web.js"></script>
<script type="text/javascript" src="./js/jquery.waterfall.js"></script>
<script type="text/javascript" src="./bootstrap/js/bootstrap.min.js"></script>
<script src="./lib/swiper.min.js"></script>
<script type="text/javascript">
	//nav部分
	$(function(){
 		var listBox = $('.column-items').parent('div');
 		listBox.parent('li').on("mouseenter",function(){
 			listBox.css("display","block");
			listBox.parent('li').find('span')[2].className = 'glyphicon glyphicon-menu-up';
 		})
		listBox.parent('li').on("mouseleave",function(){
			listBox.css("display","none");
			listBox.parent('li').find('span')[2].className = 'glyphicon glyphicon-menu-down';
		})
 		
  		$.ajax({
  			url:"./nav_data.json",
  			dataType:"json",
			success:function(data){
				$.each(data,function(index,value){
					var name = value.name;
					var content = value.content;
					
					if(listBox.find("h2").size()<=index){
						return;
					}
					listBox.find("h2")[index].innerHTML = name;
 					$.each(content,function(i,v){
 						var a = $('<a href="javascript:;">'+v+'</a>');
						listBox.find(".category").eq(index).find('div').append(a);
 					})
 				})
			}
  		})
 	})	
</script>
<script type="text/html" id="items">
	{{each json}}
		<li class="item">
			<div>
				<img src="{{$value.path}}">
			</div>
			<p>{{$value.text}}</p>
			<p>{{$value.price}}</p>
		</li>
	{{/each}}
</script>
<script type="text/javascript">
	var pageSize = 10;
	var page = 1;
	render();
	
	$(window).scroll(function(){
		var totalHeight = $('.items').height()+$('.items').offset().top;
		var height = totalHeight - $(window).scrollTop()-$(window).height();
		if(height<200){
			page++;
			render()
		}
	})
	
	function render(){
		$.ajax({
			url:"http://127.0.0.1:9999",
			data:{
				page:page,
				pageSize:pageSize
			},
			dataType:'jsonp',
			success:function(result){
				var html = template('items',{json:result});
				$('.items').append(html).waterfall();
				
				if(result.length<pageSize){
					$('.list_end').html('————————&nbsp;&nbsp;&nbsp; 已经到底啦 &nbsp;&nbsp;&nbsp;————————');
				}
			}
		})
	}
</script>
<script type="text/javascript">
	//轮播图
	var mySwiper = new Swiper ('.swiper-container', {
		loop: true, 
		 autoplay:true,
		 effect : 'fade',
		  pagination :{
			el: '.swiper-pagination',
			clickable :true,
		}
   })    
   for(i=0;i<mySwiper.pagination.bullets.length;i++){
	  mySwiper.pagination.bullets[i].onmouseover=function(){
		this.click();
	  };
	} 
	
	var container = document.getElementById('banner');
	container.onmouseenter = function(){
		mySwiper.autoplay.stop();
	}
	container.onmouseleave = function(){
		mySwiper.autoplay.start();
	}
	
	
 </script>
<script type="text/javascript" src="./js/base.js"></script>
<script type="text/javascript">
	//登录注册
	var lgUnameInp = document.querySelector(".lg-nm");
	var lgPwInp = document.querySelector('.lg-pw');
	var lgBtn = document.querySelector('.lg-btn');
	var showBox = document.querySelector('.show');
	var lgShow = document.querySelector('.lg-show');
	var zcUnameInp = document.querySelector(".zc-nm");
	var zcPwInp = document.querySelector('.zc-pw');
	var zcBtn = document.querySelector('.zc-btn');
	var zcShow = document.querySelector('.zc-show');
	lgBtn.onclick = ()=>{
		var uname = lgUnameInp.value;
		var pw = lgPwInp.value;
		var xhr = new XMLHttpRequest;
		xhr.open('post','http://localhost/server/server.php');
		xhr.setRequestHeader('content-type','application/x-www-form-urlencoded');
		xhr.send(`username=${uname}&password=${pw}`);
		xhr.onreadystatechange = function(){
			if(xhr.status == 200&&xhr.readyState==4){
				
				if(xhr.responseText==1){
					showBox.parentNode.children[2].style.display = 'none';
					showBox.parentNode.children[4].style.display = 'none';
					showBox.innerHTML = `欢迎${uname}回来!`;
					showBox.style.display = 'inline-block';
					localStorage.username = uname;
					localStorage.pw = pw;
				}else{
					lgShow.innerHTML = "用户名或者密码错误,请重新登陆";
				}
			}
		}
	}
	
	zcBtn.onclick = ()=>{
		var zname = zcUnameInp.value;
		var zpw = zcPwInp.value;
		var xhr = new XMLHttpRequest;
		xhr.open('post','http://localhost/server/zhuce.php');
		xhr.setRequestHeader('content-type','application/x-www-form-urlencoded');
		xhr.send(`username=${zname}&password=${zpw}`);
		xhr.onreadystatechange = function(){
			if(xhr.status == 200&&xhr.readyState==4){
				if(xhr.responseText==1){
					showBox.parentNode.children[2].style.display = 'none';
					showBox.parentNode.children[4].style.display = 'none';
					showBox.innerHTML = `欢迎${zname}加入!`;
					showBox.style.display = 'inline-block';
				}else{
					zcShow.innerHTML = "注册失败，用户已使用"
				}
			}
		}
	}
	
	
// 	var xhr = new XMLHttpRequest;
// // 	var name = localStorage.getItem('username');
// // 	var pw = localStorage.getItem('pw');
// // 	console.log(localStorage)
// 	xhr.open('get','http://localhost/server/server.php');
// 	//xhr.send(`password=${name}&username=${pw}`);
// 	xhr.send(null);
// 	xhr.onreadystatechange = function(){
// 		if(xhr.status==200&&xhr.readyState==4){
// 			if(xhr.responseText==1){
// 				showBox.parentNode.children[2].style.display = 'none';
// 				showBox.parentNode.children[4].style.display = 'none';
// 				showBox.innerHTML = `欢迎${name}回来!`;
// 				showBox.style.display = 'block';
// 			}
// 		}
// 	}
// 	
	
</script>

</body>
</html>
